// задание 1: генерация массива случайных чисел
// программа создает массив из 1 миллиона элементов

#include <iostream> // для вывода на экран
#include <random> // для генерации случайных чисел
#include <vector> // для работы с динамическими массивами
#include <fstream> // для записи в файл

// функция для генерации случайных чисел
void generateRandomArray(std::vector<float>& arr, int size) {
    // создаем генератор случайных чисел
    std::random_device rd; // получаем случайное начальное значение
    std::mt19937 gen(rd()); // инициализируем генератор
    std::uniform_real_distribution<float> dis(0.0f, 100.0f); // диапазон от 0 до 100
    
    // заполняем массив случайными числами
    for (int i = 0; i < size; ++i) {
        arr[i] = dis(gen); // генерируем и записываем случайное число
    }
}

int main() {
    // задаем размер массива
    const int SIZE = 1000000; // один миллион элементов
    
    // создаем вектор для хранения данных
    std::vector<float> data(SIZE); // резервируем память под миллион чисел
    
    // выводим сообщение о начале генерации
    std::cout << "Начинаем генерацию " << SIZE << " случайных чисел..." << std::endl;
    
    // генерируем случайные числа
    generateRandomArray(data, SIZE); // вызываем функцию генерации
    
    // сохраняем данные в файл для дальнейшего использования
    std::ofstream outFile("random_data.bin", std::ios::binary); // открываем файл для бинарной записи
    outFile.write(reinterpret_cast<char*>(data.data()), SIZE * sizeof(float)); // записываем весь массив
    outFile.close(); // закрываем файл
    
    // выводим первые 10 элементов для проверки
    std::cout << "Первые 10 элементов массива:" << std::endl;
    for (int i = 0; i < 10; ++i) {
        std::cout << data[i] << " "; // выводим элемент
    }
    std::cout << std::endl;
    
    // выводим сообщение об успешном завершении
    std::cout << "Данные успешно сгенерированы и сохранены в файл random_data.bin" << std::endl;
    
    return 0; // программа завершилась успешно
}
