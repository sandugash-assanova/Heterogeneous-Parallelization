<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 1600">
  <defs>
    <style>
      .start-end { fill: #90EE90; stroke: #000; stroke-width: 2; }
      .process { fill: #87CEEB; stroke: #000; stroke-width: 2; }
      .io { fill: #FFD700; stroke: #000; stroke-width: 2; }
      .parallel { fill: #DDA0DD; stroke: #000; stroke-width: 2; }
      .text { font-family: Arial; font-size: 13px; text-anchor: middle; }
      .title { font-family: Arial; font-size: 18px; font-weight: bold; text-anchor: middle; }
      .cluster-label { font-family: Arial; font-size: 15px; font-weight: bold; fill: #333; }
      .arrow { fill: none; stroke: #000; stroke-width: 2; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#000" />
    </marker>
  </defs>
  
  <text x="450" y="30" class="title">Задание 1: Анализ производительности OpenMP</text>
  
  <ellipse cx="450" cy="80" rx="80" ry="30" class="start-end"/>
  <text x="450" y="85" class="text">Начало</text>
  
  <line x1="450" y1="110" x2="450" y2="140" class="arrow"/>
  
  <rect x="350" y="140" width="200" height="60" rx="5" class="process"/>
  <text x="450" y="165" class="text">Создание массива</text>
  <text x="450" y="185" class="text">100 млн элементов</text>
  
  <line x1="450" y1="200" x2="450" y2="230" class="arrow"/>
  
  <!-- Последовательная версия -->
  <rect x="300" y="230" width="300" height="200" rx="5" fill="none" stroke="#666" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="450" y="250" class="cluster-label">Последовательная версия</text>
  
  <rect x="350" y="270" width="200" height="40" rx="5" class="process"/>
  <text x="450" y="295" class="text">Старт таймера (omp_get_wtime)</text>
  
  <line x1="450" y1="310" x2="450" y2="330" class="arrow"/>
  
  <rect x="350" y="330" width="200" height="70" rx="5" class="process"/>
  <text x="450" y="350" class="text">Вычисление суммы,</text>
  <text x="450" y="367" class="text">среднего и</text>
  <text x="450" y="383" class="text">дисперсии (цикл for)</text>
  
  <line x1="450" y1="400" x2="450" y2="420" class="arrow"/>
  
  <rect x="350" y="420" width="200" height="40" rx="5" class="process"/>
  <text x="450" y="445" class="text">Стоп таймера</text>
  
  <line x1="450" y1="460" x2="450" y2="490" class="arrow"/>
  
  <path d="M 370 490 L 530 490 L 510 540 L 350 540 Z" class="io"/>
  <text x="440" y="510" class="text">Вывод результатов</text>
  <text x="440" y="527" class="text">и времени CPU</text>
  
  <line x1="440" y1="540" x2="440" y2="570" class="arrow"/>
  
  <!-- Параллельные тесты -->
  <rect x="200" y="570" width="500" height="650" rx="5" fill="none" stroke="#666" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="450" y="590" class="cluster-label">Параллельная версия (OpenMP)</text>
  
  <rect x="350" y="610" width="200" height="50" rx="5" class="process"/>
  <text x="450" y="630" class="text">Цикл по количеству</text>
  <text x="450" y="647" class="text">потоков: 1, 2, 4, 8, 16</text>
  
  <line x1="450" y1="660" x2="450" y2="690" class="arrow"/>
  
  <rect x="350" y="690" width="200" height="50" rx="5" class="process"/>
  <text x="450" y="710" class="text">omp_set_num_threads(N)</text>
  <text x="450" y="727" class="text">Установка потоков</text>
  
  <line x1="450" y1="740" x2="450" y2="770" class="arrow"/>
  
  <rect x="350" y="770" width="200" height="40" rx="5" class="process"/>
  <text x="450" y="795" class="text">Старт таймера</text>
  
  <line x1="450" y1="810" x2="450" y2="840" class="arrow"/>
  
  <!-- Параллельная часть -->
  <rect x="220" y="840" width="460" height="220" rx="5" fill="none" stroke="#999" stroke-width="2" stroke-dasharray="3,3"/>
  <text x="450" y="860" class="cluster-label">#pragma omp parallel for reduction</text>
  
  <rect x="240" y="880" width="110" height="70" rx="5" class="parallel"/>
  <text x="295" y="900" class="text" font-weight="bold">Поток 0</text>
  <text x="295" y="920" class="text">Суммирование</text>
  <text x="295" y="937" class="text">своей части</text>
  
  <rect x="370" y="880" width="110" height="70" rx="5" class="parallel"/>
  <text x="425" y="900" class="text" font-weight="bold">Поток 1</text>
  <text x="425" y="920" class="text">Суммирование</text>
  <text x="425" y="937" class="text">своей части</text>
  
  <rect x="500" y="880" width="110" height="70" rx="5" class="parallel"/>
  <text x="555" y="900" class="text" font-weight="bold">Поток N-1</text>
  <text x="555" y="920" class="text">Суммирование</text>
  <text x="555" y="937" class="text">своей части</text>
  
  <text x="450" y="975" class="text">... параллельно ...</text>
  
  <rect x="320" y="990" width="260" height="50" rx="5" class="process"/>
  <text x="450" y="1010" class="text">Автоматическое объединение</text>
  <text x="450" y="1027" class="text">результатов (reduction)</text>
  
  <line x1="450" y1="1070" x2="450" y2="1100" class="arrow"/>
  
  <rect x="350" y="1100" width="200" height="70" rx="5" class="process"/>
  <text x="450" y="1120" class="text">Вычисление среднего</text>
  <text x="450" y="1137" class="text">и дисперсии</text>
  <text x="450" y="1153" class="text">(параллельно)</text>
  
  <line x1="450" y1="1170" x2="450" y2="1190" class="arrow"/>
  
  <rect x="350" y="1190" width="200" height="40" rx="5" class="process"/>
  <text x="450" y="1215" class="text">Стоп таймера</text>
  
  <line x1="450" y1="1230" x2="450" y2="1260" class="arrow"/>
  
  <!-- Анализ -->
  <rect x="320" y="1260" width="260" height="100" rx="5" class="process"/>
  <text x="450" y="1285" class="text" font-weight="bold">Вычисление метрик:</text>
  <text x="450" y="1305" class="text">• Ускорение = T_seq / T_par</text>
  <text x="450" y="1322" class="text">• Эффективность = S / N</text>
  <text x="450" y="1339" class="text">• Доля параллельной части</text>
  <text x="450" y="1355" class="text">  (закон Амдала)</text>
  
  <line x1="450" y1="1360" x2="450" y2="1390" class="arrow"/>
  
  <path d="M 370 1390 L 530 1390 L 510 1440 L 350 1440 Z" class="io"/>
  <text x="440" y="1410" class="text">Вывод результатов:</text>
  <text x="440" y="1427" class="text">время, ускорение,</text>
  <text x="440" y="1443" class="text">эффективность</text>
  
  <line x1="440" y1="1440" x2="440" y2="1470" class="arrow"/>
  
  <rect x="350" y="1470" width="200" height="60" rx="5" class="process"/>
  <text x="450" y="1490" class="text">Анализ по закону Амдала:</text>
  <text x="450" y="1507" class="text">ограничения</text>
  <text x="450" y="1523" class="text">масштабируемости</text>
  
  <line x1="450" y1="1530" x2="450" y2="1560" class="arrow"/>
  
  <ellipse cx="450" cy="1590" rx="80" ry="30" class="start-end"/>
  <text x="450" y="1595" class="text">Конец</text>
  
</svg>
